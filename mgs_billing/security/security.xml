<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">
        <record model="ir.module.category" id="module_category_mgs_billing">
          <field name="name">Billing</field>
            <field name="description">Helps you handle your billing needs.</field>
            <field name="sequence">7</field>
        </record>

        <record id="group_mgs_billing_admin" model="res.groups">
            <field name="name">Admin</field>
            <field name="category_id" ref="module_category_mgs_billing"/>
            <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        </record>

        <record id="group_mgs_billing_user" model="res.groups">
            <field name="name">User</field>
            <field name="category_id" ref="module_category_mgs_billing"/>
            <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        </record>

        <record id="group_mgs_billing_meter_reader" model="res.groups">
            <field name="name">Meter Reader</field>
            <field name="category_id" ref="module_category_mgs_billing"/>
            <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        </record>
      </data>

      <data noupdate="1">
        <record id="base.default_user" model="res.users">
            <field name="groups_id" eval="[(4,ref('mgs_billing.group_mgs_billing_user'))]"/>
        </record>

        <record id="mgs_billing_zone" model="ir.rule">
            <field name="name">Zone Entry</field>
            <field name="model_id" ref="model_mgs_billing_zone"/>
            <field name="global" eval="True"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record id="mgs_billing_property" model="ir.rule">
            <field name="name">Property Entry</field>
            <field name="model_id" ref="model_mgs_billing_property"/>
            <field name="global" eval="True"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record id="mgs_billing_ht" model="ir.rule">
            <field name="name">House Tenant Entry</field>
            <field name="model_id" ref="model_mgs_billing_house_tenant"/>
            <field name="global" eval="True"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <record id="mgs_billing_mr" model="ir.rule">
            <field name="name">Meter Reading Entry</field>
            <field name="model_id" ref="model_mgs_billing_meter_reading"/>
            <field name="global" eval="True"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id', 'in', company_ids)]</field>
        </record>

        <!-- Meter Reader can only see his records -->
        <record id="mgs_billing_meter_reader_rec" model="ir.rule">
            <field name="name">Meter Reader Entry</field>
            <field name="model_id" ref="model_mgs_billing_meter_reading"/>
            <field name="global" eval="True"/>
            <field name="domain_force">['|',('create_uid','=',False),('create_uid','=',user.id)]</field>
        </record>

      </data>
</odoo>
